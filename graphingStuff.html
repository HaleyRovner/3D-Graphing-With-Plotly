<!DOCTYPE html>
<head>
	<script src="https://d3js.org/d3.v3.min.js" charset="utf-8"></script>
	<script src="https://cdn.plot.ly/plotly-2.3.0.min.js"></script>
	<script
  src="https://code.jquery.com/jquery-3.6.0.js"
  integrity="sha256-H+K7U5CnXl1h5ywQfKtSj8PCmoN9aaq30gDh27Xc0jk="
  crossorigin="anonymous"></script>
	<script>
		var trace1;
		var trace2;
		var trace3;
		var trace4;
		var trace5;


		function filterRows(rows, type){
			x=rows.filter(function(d){ return d.K5Name == type })
			console.log(x)
			return x;

		}

		function showPlot1(){
			document.getElementById('plot').innerHTML = "";
			d3.csv('https://raw.githubusercontent.com/HaleyRovner/3D-Graphing-With-Plotly/main/knumAll.csv', function(err, rows){
				//t1=filterRows(rows, "Ecospirituality")
				//console.log(r)
				function unpack(rows, key, filter){
					f=filterRows(rows,filter)
					return f.map(function(f){return f[key];});
				}
				trace1 = {
					name: 'Ecospirituality',
					x:unpack(rows, 'Place (x)', 'Ecospirituality'),
					y:unpack(rows, 'Knowledge (y)', 'Ecospirituality'),
					z:unpack(rows, 'Action (z)', 'Ecospirituality'),
					mode: 'markers',
					marker: {
						size: 5,
						opacity: 0.8,
						color: 'rgb(153, 204, 255)'
					},
					type: 'scatter3d'
				};
				var data = [trace1];
				var layout = {margin: {
					l: 0,
					r: 0,
					b: 0,
					t: 0
				}};
				Plotly.newPlot('plot', data, layout);
			});
			return true;
		}
		function showPlot2(){
			document.getElementById('plot').innerHTML = "";
			d3.csv('https://raw.githubusercontent.com/HaleyRovner/3D-Graphing-With-Plotly/main/knum2.csv', function(err, rows){
				function unpack(rows, key){
					return rows.map(function(row){return row[key];});
				}
				trace2 = {
					name:'Small is Beautiful',
					x:unpack(rows, 'Place (x)'),
					y:unpack(rows, 'Knowledge (y)'),
					z:unpack(rows, 'Action (z)'),
					mode: 'markers',
					marker: {
						size: 5,
						opacity: 0.8,
						color: 'rgb(255, 230, 153)'
					},
					type: 'scatter3d'
				};
				var data = [trace2];
				var layout = {margin: {
					l: 0,
					r: 0,
					b: 0,
					t: 0
				}};
				Plotly.newPlot('plot', data, layout);
			});
			return true;
		}

		function showPlot3(){
			document.getElementById('plot').innerHTML = "";
			d3.csv('https://raw.githubusercontent.com/HaleyRovner/3D-Graphing-With-Plotly/main/knum3.csv', function(err, rows){
				function unpack(rows, key){
					return rows.map(function(row){return row[key];});
				}
				trace3 = {
					name: 'Science for Humanity',
					x:unpack(rows, 'Place (x)'),
					y:unpack(rows, 'Knowledge (y)'),
					z:unpack(rows, 'Action (z)'),
					mode: 'markers',
					marker: {
						size: 5,
						opacity: 0.8,
						color: 'rgb(153, 255, 153)'
					},
					type: 'scatter3d'
				};
				var data = [trace3];
				var layout = {margin: {
					l: 0,
					r: 0,
					b: 0,
					t: 0
				}};
				Plotly.newPlot('plot', data, layout);
			});
			return true;
		}

		function showPlot4(){
			document.getElementById('plot').innerHTML = "";
			d3.csv('https://raw.githubusercontent.com/HaleyRovner/3D-Graphing-With-Plotly/main/knum4.csv', function(err, rows){
				function unpack(rows, key){
					return rows.map(function(row){return row[key];});
				}
				trace4 = {
					name: 'Indigenous Justice',
					x:unpack(rows, 'Place (x)'),
					y:unpack(rows, 'Knowledge (y)'),
					z:unpack(rows, 'Action (z)'),
					mode: 'markers',
					marker: {
						size: 5,
						opacity: 0.8,
						color: 'rgb(179, 153, 255)'
					},
					type: 'scatter3d'
				};
				var data = [trace4];
				var layout = {margin: {
					l: 0,
					r: 0,
					b: 0,
					t: 0
				}};
				Plotly.newPlot('plot', data, layout);
			});
			return true;
		}
		function showPlot5(){
			document.getElementById('plot').innerHTML = "";
			d3.csv('https://raw.githubusercontent.com/HaleyRovner/3D-Graphing-With-Plotly/main/knum5.csv', function(err, rows){
				function unpack(rows, key){
					return rows.map(function(row){return row[key];});
				}
				trace5 = {
					name:'Ecoscience',
					x:unpack(rows, 'Place (x)'),
					y:unpack(rows, 'Knowledge (y)'),
					z:unpack(rows, 'Action (z)'),
					mode: 'markers',
					marker: {
						size: 5,
						opacity: 0.8,
						color: 'rgb(255, 153, 153)'
					},
					type: 'scatter3d'
				};
				var data = [trace5];
				var layout = {margin: {
					l: 0,
					r: 0,
					b: 0,
					t: 0
				}};
				Plotly.newPlot('plot', data, layout);
			});
			return true;
		}

		function showPlotA(){
			document.getElementById('plot').innerHTML = "";
			console.log(trace1)
			var data = [trace1, trace2, trace3, trace4, trace5];
			var layout = {margin: {
				l: 0,
				r: 0,
				b: 0,
				t: 0
				},
				colorway: ['rgb(153, 204, 255)', 'rgb(255, 230, 153)', 'rgb(153, 255, 153)', 'rgb(179, 153, 255)', 'rgb(255, 153, 153)'],
				type: 'scatter3d'
			};
			Plotly.newPlot('plot', data, layout);
			return true;
		}

		function showPlotAll(){
			document.getElementById('plot').innerHTML = "";
			d3.csv('https://raw.githubusercontent.com/HaleyRovner/3D-Graphing-With-Plotly/main/knumAll.csv', function(err, rows){
				//t1=filterRows(rows, "Ecospirituality")
				//console.log(r)
				function unpack(rows, key, filter){
					f=filterRows(rows,filter)
					return f.map(function(f){return f[key];});
				}
				trace1 = {
					name: 'Ecospirituality',
					x:unpack(rows, 'Place (x)', 'Ecospirituality'),
					y:unpack(rows, 'Knowledge (y)', 'Ecospirituality'),
					z:unpack(rows, 'Action (z)', 'Ecospirituality'),
					mode: 'markers',
					marker: {
						size: 6,
						opacity: 0.8,
						color: 'rgb(153, 204, 255)'
					},
					type: 'scatter3d'
				};
				trace2 = {
					name: 'Small is Beautiful',
					x:unpack(rows, 'Place (x)', 'Small is Beautiful'),
					y:unpack(rows, 'Knowledge (y)', 'Small is Beautiful'),
					z:unpack(rows, 'Action (z)', 'Small is Beautiful'),
					mode: 'markers',
					marker: {
						size: 6,
						opacity: 0.8,
						colorway: ['rgb(153, 204, 255)', 'rgb(255, 230, 153)']
					},
					type: 'scatter3d'
				};
				trace3 = {
					name: 'Science for Humanity',
					x:unpack(rows, 'Place (x)', 'Science for Humanity'),
					y:unpack(rows, 'Knowledge (y)', 'Science for Humanity'),
					z:unpack(rows, 'Action (z)', 'Science for Humanity'),
					mode: 'markers',
					marker: {
						size: 6,
						opacity: 0.8,
						colorway: ['rgb(153, 204, 255)', 'rgb(255, 230, 153)','rgb(153, 255, 153)']
					},
					type: 'scatter3d'
				};
				trace4 = {
					name: 'Indigenous Justice',
					x:unpack(rows, 'Place (x)', 'Indigenous Justice'),
					y:unpack(rows, 'Knowledge (y)', 'Indigenous Justice'),
					z:unpack(rows, 'Action (z)', 'Indigenous Justice'),
					mode: 'markers',
					marker: {
						size: 6,
						opacity: 0.8,
						colorway: ['rgb(153, 204, 255)', 'rgb(255, 230, 153)','rgb(153, 255, 153)']
					},
					type: 'scatter3d'
				};
				trace5 = {
					name: 'Ecoscience',
					x:unpack(rows, 'Place (x)', 'Ecoscience'),
					y:unpack(rows, 'Knowledge (y)', 'Ecoscience'),
					z:unpack(rows, 'Action (z)', 'Ecoscience'),
					mode: 'markers',
					marker: {
						size: 6,
						opacity: 0.8,
						colorway: ['rgb(153, 204, 255)', 'rgb(255, 230, 153)','rgb(153, 255, 153)']
					},
					type: 'scatter3d'
				};

				var data = [trace1, trace2, trace3, trace4, trace5];
				var layout = {margin: {
					l: 0,
					r: 0,
					b: 0,
					t: 0
				}};
				Plotly.newPlot('plot', data, layout);
			});
			return true;



		}



	</script>

</head>
<body>
	<div class="buttons">
		<button type="button" id="button1" onclick="showPlot1()">Ecospirituality</button>
		<button type="button" id="button2" onclick="showPlot2()">Small is Beautiful</button>
		<button type="button" id="button3" onclick="showPlot3()">Science for Humanity</button>
		<button type="button" id="button4" onclick="showPlot4()">Indigenous Justice</button>
		<button type="button" id="button5" onclick="showPlot5()">Ecoscience</button>
		<button type="button" id="buttonAll" onclick="showPlotAll()">Show all</button>
	</div>
	<div id='plot' onload="showPlotAll()">

	</div>
</body>

<script>

$( document ).ready(function() {
	showPlotAll()

});

</script>


</html>
